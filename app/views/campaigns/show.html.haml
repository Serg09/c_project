=content_for :page_title do
  Campaign progress

.container.container-default
  -if @campaign.paused?
    .alert.alert-warning
      This campaign is paused.
  -if @campaign.collecting?
    .alert.alert-info
      This campaign is closed and the funds are being collected. You will be notified when the collection process is complete.
  -if @campaign.collected?
    .alert.alert-info
      This campaign is closed.
  -if @campaign.cancelled?
    .alert.alert-warning
      This campaign has been cancelled.
  .row
    .col-md-12
      %h2= @campaign.book.approved_version.title
  .row
    .col-md-6
      =render 'progress_table'
    .col-md-3
      =render_progress_meter @campaign.current_progress
    .col-md-3
      -if @campaign.collectable?
        =link_to 'Collect', collect_campaign_path(@campaign), method: :patch, class: 'btn btn-success', title: 'Click here to collect the donations for this campaign.'
      -if @campaign.cancellable?
        =link_to 'Cancel', cancel_campaign_path(@campaign), method: :patch, class: 'btn btn-danger', title: 'Click here to cancel this campaign.', 'data-confirm' => 'Are you sure you want to cancel this campaign?'
